<!doctype html><html><head><title>Sealed Simulator v2.4</title><meta charset="utf-8"><link href="https://unpkg.com/@saeris/typeface-beleren-bold@latest/index.css" rel="stylesheet" type="text/css"><style>body,html{margin:0;width:100%;height:100%;background-color:#000;color:#9ecaed}*{font-family:"Beleren Bold"}#checker,#done,#list-editor,#loading,#selection,body{display:flex;align-items:center;justify-content:center}#done,#list-editor,#loading,#selection{max-width:0;overflow-x:hidden;transition:.7s linear}#loading,#selection{width:30vw;height:30vh}#selection{background:#444}#loading{background:#333}#add-in,#checker,#remove-out,button,select{color:inherit;background:0 0;border:2px solid #9ecaed;box-shadow:0 0 10px #9ecaed;padding:1vh;height:7vh;border-radius:1vh;display:flex;box-sizing:border-box}#checker,button{width:7vh}#loading{text-align:center;flex-direction:column}#done{height:100%;width:60vw;flex-direction:column}#list-editor{width:100%;height:100%;flex-direction:row;justify-content:space-between;align-items:center}#add-in,#remove-out{white-space:pre;height:45%;width:100%;overflow-y:scroll;background:#333;scrollbar-width:none}#mythic{display:none;background:grey;border:none}button{display:flex;justify-content:center;align-items:center}abbr{text-decoration:none;font-size:3vh;margin:auto;width:100%;height:100%;display:block;text-align:center}select{appearance:none;background-image:linear-gradient(45deg,transparent 50%,#9ecaed 50%),linear-gradient(135deg,#9ecaed 50%,transparent 50%),linear-gradient(to right,#9ecaed,#9ecaed);background-position:calc(100% - 22px) calc(100% - 3.5vh + 4.5px),calc(100% - 13px) calc(100% - 3.5vh + 4.5px),calc(100% - 3em) .5em;background-size:9px 9px,9px 9px,2px calc(100% - 1em);background-repeat:no-repeat}select:focus{background-image:linear-gradient(45deg,#9ecaed 50%,transparent 50%),linear-gradient(135deg,transparent 50%,#9ecaed 50%),linear-gradient(to right,#9ecaed,#9ecaed);background-position:calc(100% - 13px) calc(100% - 3.5vh + 4.5px),calc(100% - 22px) calc(100% - 3.5vh + 4.5px),calc(100% - 3em) .5em;background-size:9px 9px,9px 9px,2px calc(100% - 1em);background-repeat:no-repeat;outline:0}.card-face{display:flex;justify-content:flex-start;align-items:flex-start}.card-face{position:relative;width:9vw;height:12.5vw}.card-face img{width:100%;height:100%;border-radius:4%}.card-face img:nth-of-type(2){display:none}.card-face.flipped img:first-of-type{display:none}.card-face.flipped img:last-of-type{display:block}.hide{display:none}.add-button,.flip-button,.remove-button{position:absolute;bottom:0;z-index:2;height:3vh;color:#000;background-color:#9ecaed}.add-button,.remove-button{left:0}.flip-button{right:0}#displays{display:flex;flex-direction:column;height:100%;width:75%;margin:0}#add-div,#remove-div{height:50%;max-height:50%;overflow-y:scroll;scrollbar-width:none;display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;width:100%;border:2px solid #9ecaed;box-shadow:0 0 10px #9ecaed;border-radius:1vh}#add-div,#add-in{background-color:#446}#remove-div,#remove-out{background-color:#644}#add-div .add-button,#remove-div .remove-button{display:none}#info{width:24.5%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}#canvas-holder{height:0;overflow:hidden;padding-top:calc(680 / 488 * 100%);position:relative;width:100%}#canvas{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:3vh}#finished{width:50%}#basics{width:100%;display:flex}#basics button{width:20%}#count{color:#9ecaed;text-shadow:0 0 10px #9ecaed;font-size:10vh;text-align:center}::-webkit-scrollbar{width:0;background:0 0}::-webkit-scrollbar-thumb{background:red}</style></head><body><div id="selection"><select id="setlist"></select><div id="checker"><abbr title="Mythics?" id="checklabel"></abbr></div><button type="button" onclick="go()">Go</button></div><div id="loading"><div id="p">Loading: <span id="amt">0</span> / 95</div><progress id="prog" value="0" max="95"></progress></div><div id="list-editor"><div id="displays"><div id="add-div"></div><div id="remove-div"></div></div><div id="info"><div id="canvas-holder"><canvas id="canvas" class="hide"></canvas></div><div id="basics"><button id="plains" onclick="addBasic(0)" onmouseover="showBasic(0)">Add<br>Plains</button><button id="island" onclick="addBasic(1)" onmouseover="showBasic(1)">Add<br>Island</button><button id="swamp" onclick="addBasic(2)" onmouseover="showBasic(2)">Add<br>Swamp</button><button id="mountain" onclick="addBasic(3)" onmouseover="showBasic(3)">Add<br>Mountain</button><button id="forest" onclick="addBasic(4)" onmouseover="showBasic(4)">Add<br>Forest</button></div><div id="count"></div><button id="finish" onclick="done()">Done</button></div></div><div id="done"><textarea id="add-in"></textarea><textarea id="remove-out"></textarea></div><script defer>const canvas=document.getElementById("canvas");canvas.height=680,canvas.width=488;const canvasCtx=canvas.getContext("2d"),addDiv=document.getElementById("add-div"),removeDiv=document.getElementById("remove-div"),sortMap="W.U.B.R.G.UW.BU.BR.GR.GW.BW.RU.BG.RW.GU.BUW.BRU.BGR.GRW.GUW.RUW.BGU.BRW.GRU.BGW.BRUW.BGRU.BGRW.GRUW.BRUW.BGRUW.C.L.A".split(".");let setName,basics=[["Plains","a9891b7b-fc52-470c-9f74-292ae665f378"],["Island","acf7b664-3e75-4018-81f6-2a14ab59f258"],["Swamp","02cb5cfd-018e-4c5e-bef1-166262aa5f1d"],["Mountain","53fb7b99-9e47-46a6-9c8a-88e28b5197f1"],["Forest","32af9f41-89e2-4e7a-9fec-fffe79cae077"]],mythics=!1;async function go(){document.getElementById("selection").style.maxWidth="0",document.getElementById("loading").style.maxWidth="30vw";let e=document.getElementById("setlist").value;setName=e;let t=[],a=0;for(;a<90;){await wait(100);let n=await fetch(`https://api.scryfall.com/cards/random?q=${getRarity(a)}%20in:booster%20set=${e}`).then(e=>e.json());document.getElementById("amt").innerHTML=a+1,document.getElementById("prog").value=a+1,await wait(100);let d,i=[];n.card_faces&&n.card_faces[0].image_uris?(i[0]=await getImage(n.card_faces[0].image_uris.normal),await wait(100),i[1]=await getImage(n.card_faces[1].image_uris.normal)):i[0]=await getImage(n.image_uris.normal),d=n.color_identity.length<1?"C":n.color_identity.sort().join(""),/land/gi.test(n.type_line)&&!/sorcery|instant|creature|artifact|enchantment/gi.test(n.type_line)&&(d="L"),a>=84&&(d="A"),t.push({name:n.name,faces:i,ci:d}),a++}for(let e=0;e<basics.length;e++)document.getElementById("amt").innerHTML=a+1,document.getElementById("prog").value=a+1,await wait(100),basics[e][2]="data:image/jpeg;base64,"+await fetch(`https://api.scryfall.com/cards/${basics[e][1]}?format=image&version=normal`).then(e=>e.arrayBuffer()).then(e=>btoa(String.fromCharCode(...new Uint8Array(e)))),a++;t.sort((e,t)=>{let a=sortMap.indexOf(e.ci),n=sortMap.indexOf(t.ci);return a<n?-1:a>n?1:e.name.localeCompare(t.name,"en",{sensitivity:"base"})}),t.forEach((e,t)=>{e.div=makeDiv(e,t),removeDiv.appendChild(e.div)}),removeDiv.children[0].dispatchEvent(new Event("mouseover")),document.getElementById("loading").style.maxWidth="0",document.getElementById("list-editor").style.maxWidth="100%",setTimeout(()=>{canvas.classList.remove("hide")},700),updateCount()}function done(){let e=[...document.getElementById("add-div").children].map(e=>e.getAttribute("data-name")),t=[...document.getElementById("remove-div").children].map(e=>e.getAttribute("data-name"));document.getElementById("add-in").value=e.join("\n"),document.getElementById("remove-out").value=t.join("\n"),document.getElementById("finish").style.display="none",document.getElementById("list-editor").style.maxWidth="0",document.getElementById("done").style.maxWidth="60vw"}function getImage(e){return new Promise(t=>{let a=new Image;a.onload=(()=>{t(a)}),a.src=e})}async function addBasic(e){let t=await getImage(basics[e][2]),a=document.createElement("div");a.classList.add("card-face"),a.setAttribute("data-name",basics[e][0]+" (THB)"),a.addEventListener("mouseover",function(){canvasCtx.drawImage(t,0,0)});let n=document.createElement("button");n.classList.add("remove-button"),n.addEventListener("click",()=>{addDiv.removeChild(a),updateCount()}),n.innerHTML="\u2796",a.appendChild(n),a.appendChild(t),addDiv.appendChild(a),updateCount()}function showBasic(e){getImage(basics[e][2]).then(e=>canvasCtx.drawImage(e,0,0))}function makeDiv({faces:e,name:t},a){let n=document.createElement("div");function d(){n.classList.contains("flipped")?canvasCtx.drawImage(e[1],0,0):canvasCtx.drawImage(e[0],0,0)}n.classList.add("card-face"),n.setAttribute("data-name",t+" ("+setName.toUpperCase()+")"),n.style.order=""+(a+1),n.addEventListener("mouseover",d);let i=document.createElement("button");i.classList.add("add-button"),i.addEventListener("click",()=>{addDiv.appendChild(n),updateCount()}),i.innerHTML="\u2795";let c=document.createElement("button");if(c.classList.add("remove-button"),c.addEventListener("click",()=>{removeDiv.appendChild(n),updateCount()}),n.appendChild(i),n.appendChild(c),c.innerHTML="\u2796",e.length>1){let e=document.createElement("button");e.classList.add("flip-button"),e.addEventListener("click",()=>{n.classList.contains("flipped")?n.classList.remove("flipped"):n.classList.add("flipped"),d()}),e.innerHTML="flip",n.appendChild(e)}return e.forEach(e=>n.appendChild(e)),n}function wait(e){return new Promise(t=>setTimeout(t,e))}function getRarity(e){let t="";switch(!0){case e<60:t="c";break;case e>=60&&e<78:t="u";break;case e>=78&&e<84:t=8*Math.random()<1&&mythics?"m":"r";break;default:return"t:basic"}return"-t:basic%20r:"+t}function updateCount(){setInterval(()=>{document.getElementById("count").innerHTML=document.getElementById("add-div").children.length},5)}fetch("https://api.scryfall.com/sets").then(e=>e.json()).then(e=>e.data.filter(e=>/expansion|core|draft_innovation/.test(e.set_type)&&!("cmr"==e.code))).then(e=>{document.getElementById("setlist").innerHTML=e.map(e=>`<option value="${e.code}">${e.name}</option>`).join("\n")}).then(()=>{document.getElementById("selection").style.maxWidth="30vw"}),document.getElementById("checklabel").addEventListener("click",()=>{mythics=!mythics,document.getElementById("checklabel").innerHTML=mythics?"\uD83D\uDDF9":"\uD83D\uDDF7"}),document.getElementById("checklabel").click();</script></body><!-- Created by Nesonin --></html>